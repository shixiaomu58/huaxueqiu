/**
 * 全局应用配置管理
 * 
 * @since 2015-09-21
 * @author dongxiaochai@163.com
 */


/**
 * 定义全局变量 GConfig 和其它。
 * 
 * @since 2015-09-21
 * @author dongxiaochai@163.com
 */
var
/**
 * GConfig 变量为总应用命名空间，之后会再对该命名空间进行扩展，
 */
GConfig = {};

((function fnGb() {
	var 
		/**
		 * 主机管理。
		 * 内部成员会重新添加到 Gb 下。
		 * 
		 * @private
		 */
		_host = {
			/**
			 * 项目前端资源主机环境。
			 */
			assets: "",

			/**
			 * 时间戳
			 * @type {Int}
			 */
			tag:  (new Date()).getTime()//版本号
		},
		
		/**
		 * requirejs 配置
		 */
		_requireConfig = {
			baseUrl: "assets/js/",         //js基础路径
			paths:{
				"jquery": "../lib/jquery.min",
				"global": "../js/global.min",
		        "angular" : "../lib/angular/1.5.6/angular.min",
                "util" : "../lib/util.min",
                "loading" : "../lib/overlay/loading.min",
                "say" : "../lib/overlay/say.min",
                "pinyin" : "../lib/pinyin",
                "confirm" : "../lib/overlay/confirm.min",
                "overlayBase" : "../lib/overlay/base.min",
                "tip" : "../lib/overlay/tip.min",
                "serviceModule": "services/serviceModule",
                "directiveModule" : "directives/directiveModule",
                "webViewBridge": "../js/webViewBridge.min",
                "baiduStat": "../lib/baiduStat.min",
                "photoSwipe": "../lib/photoSwipe/photoSwipe.min",
                "globalBase": "globalBase",
                "cnzzStat": "../lib/cnzzStat.min",
                "microScene": "../js/micro_scene",
                "wx": "http://res.wx.qq.com/open/js/jweixin-1.2.0",//微信的jssdk
                "imgScroll": "../lib/imgScroll"
			},
		    shim: {
		        "angular": {
				    deps: ['jquery'],
		            exports: 'angular'
		        }
		    },
            waitSeconds: 0,//加载超时时间
			urlArgs: "bust=" + _host.tag
		}
	;
	
	// 以下为 public 内容。
	
	/**
	 * 命名空间内部对象。
	 * 
 	 * @since 2015-04-27
	 * @author dongxiaochai@163.com
	 */ 
	var _gConfig = {  
		isTest: false,	//用于开发阶段使用，全部启用测试通道，慎用再慎用

		isAppProject: false,	//当前系统类型，是否App。true是app，false是wap

		isInApp: null, 	//当前系统是否在app内访问运行

		openLog: false,	//是否开启控制台日志console

		/**
		 * 当前项目前端资源域名环境，包含版本号。
		 * 
		 * @property
		 * @static 
		 * @type {String}
		 */
		ASSETS_HOST: _host.assets,

		/**
		 * 类库路径
		 * @type {[type]}
		 */
		LIB_ADDRESS: "./assets/lib/",
		// LIB_ADDRESS: "./lib/",
		/**
		 * 应用跳转前缀
		 * @type {String}
		 */
		APP_PAGE_PREFIX: "btjf://www.btjf.com",
		/**
		 * 时间戳
		 * @type {Int}
		 */
		TAG: _host.tag
	};
	
	// 全局操作执行入口。
	((function render() {
		window.GConfig = _gConfig;	// 将内部命名空间对象赋到全局对象下。
		if(window.require){
        	require.config(_requireConfig); 
		}
	}))();
}))();